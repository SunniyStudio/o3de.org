---
linkTitle: 第14章 启用NvCloth Gem
title: 第14章 启用NvCloth Gem
description: 第14章 启用NvCloth Gem
---

# 第14章 启用NvCloth Gem
## 介绍
O3DE 引擎有很多可供使用的 gems。本章将介绍将其中一个核心 Gem 添加到我们的项目中所涉及的步骤。

{{<note>}}
本章中的更改可以在 GitHub 上找到：
https://github.com/AMZN-Olex/O3DEBookCode2111/tree/ch14_enable_nvcloth
{{</note>}}

## 添加 NvCloth Gem
为了调查可用的 Gem，我们可以通过从 C:\O3DE\21.11.2\bin\Windows\profile\Default\o3de.exe 的 O3DE 安装中启动 O3DE 项目管理器。您应该会在其首页上看到该项目。

![](/images/learning-guide/tutorials/o3de-book/Part5/o3de_book_5_5.PNG)

O3DE Project Manager 中的 MyProject

{{<tip>}}
如果项目未显示在此处，则需要将其添加到 C:\Users\<user>\.o3de \o3de_manifest.json。这可以使用脚本完成：
```shell
C:\O3DE\21.11.2\scripts\o3de.bat register --project-path C:\git\book\MyProject
```
{{</tip>}}

或者直接修改 o3de_manifest.json 的 projects 属性，并将完整路径添加到项目中。

例 14.1.o3de_manifest.json 中的代码段
```json
{
  ...
  "o3de_manifest_name": "<user>",
  "origin": "C:/Users/<user>/.o3de",
  "projects": [
      "C:/git/book/MyProject"
  ],
```

您可以通过从项目旁边的下拉列表中选择 Configure Gem （配置 Gem） 选项来添加、删除和浏览 Gem。

图 14.1.配置 Gem

![](/images/learning-guide/tutorials/o3de-book/Part5/o3de_book_5_7.PNG)

我们的主要兴趣是 NvCloth gem。

![](/images/learning-guide/tutorials/o3de-book/Part5/o3de_book_5_6.PNG)

NVIDIA Cloth Gem （NVIDIA 布料 Gem）

您可以在此处启用 Gem 并保存更改。验证 Gem 是否已添加到 C:\git\book\MyProject\Code\enabled_gems.cmake 中。

例 14.2.enabled_gems.cmake 与 NvCloth Gem
```shell
set(ENABLED_GEMS
  ...
  MyGem
  WindowPosition
  NvCloth # new
)
```

##  使用 NvCloth Gem
重新构建项目后，Gem 及其资源将可供项目使用。我们将使用它的资产之一：一只鸡。

图 14.2.来自 NvCloth gem 的鸡

![](/images/learning-guide/tutorials/o3de-book/Part5/o3de_book_5_9.PNG)

通过在视区中右键单击并选择 Instantiate Prefab 来生成鸡。

图 14.3.实例化预制件

![](/images/learning-guide/tutorials/o3de-book/Part5/o3de_book_5_8.PNG)

然后导航到 C:\O3DE\21.11.2\Gems\NvCloth\Assets\pre fabs\Cloth\Chicken_Actor.prefab 的 NvCloth 位置，或搜索 chicken

图 14.4. 选取 Chicken_Actor.prefab

![](/images/learning-guide/tutorials/o3de-book/Part5/o3de_book_5_11.PNG)

## 将您的资源添加到 Gem
除了直接将资源添加到项目中，例如在 C:\git\book\MyProject\Assets 下。您还可以在 Gem 下添加资产。在本章中，我在 Blender 中创建了一个 3D 文本模型，将其导出为 fbx 格式，然后将其放在 C:\git\book\Gems\MyGem\Assets\o3de.fbx 下。然后，您可以使用 Mesh 组件将其放置在关卡中。

例 14.3.O3DE.fbx 在关卡中

![](/images/learning-guide/tutorials/o3de-book/Part5/o3de_book_5_10.PNG)

## 小结
{{<note>}}
本章中的更改可以在 GitHub 上找到：
https://github.com/AMZN-Olex/O3DEBookCode2111/tree/ch14_enable_nvcloth
{{</note>}}

在本章中，我们启用了 NvCloth Gem 并在 MyGem 下添加了新的 FBX 资产。以下是这些更改后的关卡外观。

图 14.5.关卡中的实体

![](/images/learning-guide/tutorials/o3de-book/Part5/o3de_book_5_13.PNG)

图 14.6.O3DE 鸡肉

![](/images/learning-guide/tutorials/o3de-book/Part5/o3de_book_5_12.PNG)
